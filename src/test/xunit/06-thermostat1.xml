<?xml version="1.0" ?><BEAKER_TEST><test_id>25815359</test_id><package>thermostat1</package><pkgnotinstalled>thermostat1</pkgnotinstalled><beakerlib_rpm>beakerlib-1.9-3.el7 </beakerlib_rpm><beakerlib_redhat_rpm>beakerlib-redhat-1-15.el7 </beakerlib_redhat_rpm><starttime>2014-11-07 08:32:26 EST</starttime><endtime>2014-11-07 08:32:34 EST</endtime><testname>/CoreOS/thermostat1/Sanity/thermostat-logging</testname><release>Red Head Enterprise Limux X.Y (Moo)</release><hostname>some-p8-lp7-hostname.com</hostname><arch>zx_spectrum</arch><hw_cpu>0 x unknown</hw_cpu><hw_ram>17846 MB</hw_ram><hw_hdd>290.8 GB</hw_hdd><purpose>PURPOSE of /CoreOS/thermostat1/Sanity/thermostat-logging
Description: The test sets logging level to FINEST and checks the logs.
Author: Joe the Tester &lt;jttester@redhat.com&gt;
</purpose><log><phase endtime="2014-11-07 08:32:27 EST" name="Setup" result="WARN" score="1" starttime="2014-11-07 08:32:26 EST" type="WARN"><pkgnotinstalled>thermostat1</pkgnotinstalled><test message="Checking for the presence of thermostat1 rpm ">FAIL</test><test command="TmpDir=$(mktemp -d)" message="Creating tmp directory (Expected 0, got 0)">PASS</test><test command="cp ./*.txt /tmp/tmp.E5MrJoS90x/" message="Copying the aux text files to tmp dir (Expected 0, got 0)">PASS</test><test command="cp ./logging.properties /tmp/tmp.E5MrJoS90x/" message="Copying properties file to tmp dir (Expected 0, got 0)">PASS</test><test command="pushd /tmp/tmp.E5MrJoS90x" message="Command 'pushd /tmp/tmp.E5MrJoS90x' (Expected 0, got 0)">PASS</test></phase><phase endtime="2014-11-07 08:32:32 EST" name="Test" result="FAIL" score="5" starttime="2014-11-07 08:32:28 EST" type="FAIL"><pkgnotinstalled>thermostat1</pkgnotinstalled><test command="cp ./logging.properties ~/.thermostat/etc/" message="Copying the logging.properties file (Expected 0, got 0)">PASS</test><test command="mkdir -p ~/.thermostat/logs" message="Command 'mkdir -p ~/.thermostat/logs' (Expected 0, got 0)">PASS</test><test command="thermostat agent" message="Unsuccesful agent without storage (Expected 0, got 127)">FAIL</test><test command="sleep 3s" message="Waiting for something interesting to be written in the log file (Expected 0, got 0)">PASS</test><test message="File /root/.thermostat/logs/thermostat.log should exist ">FAIL</test><test message="rlAssertGrep: failed to find file /root/.thermostat/logs/thermostat.log ">FAIL</test><test message="rlAssertGrep: failed to find file /root/.thermostat/logs/thermostat.log ">FAIL</test><test message="rlAssertGrep: failed to find file /root/.thermostat/logs/thermostat.log ">FAIL</test></phase><phase endtime="2014-11-07 08:32:34 EST" name="Cleanup" result="PASS" score="0" starttime="2014-11-07 08:32:33 EST" type="WARN"><pkgnotinstalled>thermostat1</pkgnotinstalled><message severity="LOG">Bundling logs</message><message severity="INFO">rlBundleLogs: Adding '/root/.thermostat/logs/thermostat.log' as '_root_.thermostat_logs_thermostat.log'</message><message severity="ERROR">rlBundleLogs: '/root/.thermostat/logs/thermostat.log' can't be packed</message><message severity="INFO">Sending /tmp/thermostat-logging-output-796067-1658233-25815359.tar.gz as tmp-thermostat-logging-output-796067-1658233-25815359.tar.gz</message><test command="popd" message="Command 'popd' (Expected 0, got 0)">PASS</test><test command="rm -r /tmp/tmp.E5MrJoS90x" message="Removing tmp directory (Expected 0, got 0)">PASS</test></phase></log></BEAKER_TEST>
